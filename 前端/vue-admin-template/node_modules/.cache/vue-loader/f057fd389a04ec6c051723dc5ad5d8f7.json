{"remainingRequest":"E:\\demo\\谷粒课堂\\前端\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\demo\\谷粒课堂\\前端\\vue-admin-template\\src\\views\\edu\\teacher\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\demo\\谷粒课堂\\前端\\vue-admin-template\\src\\views\\edu\\teacher\\list.vue","mtime":1662628446925},{"path":"E:\\demo\\谷粒课堂\\前端\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\demo\\谷粒课堂\\前端\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\demo\\谷粒课堂\\前端\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\demo\\谷粒课堂\\前端\\vue-admin-template\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdGVhY2hlciBmcm9tICJAL2FwaS9lZHUvdGVhY2hlciI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgLy8g5a6a5LmJ5pWw5o2uDQogICAgcmV0dXJuIHsNCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLCAvLyDmmK/lkKbmmL7npLpsb2FkaW5n5L+h5oGvDQogICAgICBsaXN0OiBudWxsLCAvLyDmlbDmja7liJfooagNCiAgICAgIHRvdGFsOiAwLCAvLyDmgLvorrDlvZXmlbANCiAgICAgIHBhZ2U6IDEsIC8vIOmhteeggQ0KICAgICAgbGltaXQ6IDEwLCAvLyDmr4/pobXorrDlvZXmlbANCiAgICAgIHNlYXJjaE9iajogew0KICAgICAgICBuYW1lOiIiLA0KICAgICAgICBsZXZlbDoiIiwNCiAgICAgICAgYmVnaW46IiIsDQogICAgICAgIGVuZDoiIiwNCiAgICAgICAgaW5kZXg6MQ0KICAgICAgfSwgLy8g5p+l6K+i5p2h5Lu2DQogICAgfTsNCiAgfSwNCg0KICBjcmVhdGVkKCkgew0KICAgIC8vIOW9k+mhtemdouWKoOi9veaXtuiOt+WPluaVsOaNrg0KICAgIHRoaXMuZmV0Y2hEYXRhKCk7DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGZldGNoRGF0YShwYWdlID0gMSkgew0KICAgICAgLy8g6LCD55SoYXBp5bGC6I635Y+W5pWw5o2u5bqT5Lit55qE5pWw5o2uDQogICAgICB0aGlzLnBhZ2UgPSBwYWdlOw0KICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWU7DQogICAgICB0aGlzLnNlYXJjaE9iai5pbmRleD1wYWdlOw0KICAgICAgdGVhY2hlcg0KICAgICAgICAuZ2V0UGFnZUxpc3QodGhpcy5wYWdlLCB0aGlzLmxpbWl0LCB0aGlzLnNlYXJjaE9iaikNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7DQogICAgICAgICAgLy8gZGVidWdnZXIg6K6+572u5pat54K56LCD6K+VDQogICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgPT09IHRydWUpIHsNCiAgICAgICAgICAgIHRoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsNCiAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsOw0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7DQogICAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAvL+a4heepuuaWueazlQ0KICAgIHJlc2V0RGF0YSgpIHsNCiAgICAgIHRoaXMuc2VhcmNoT2JqID0ge307DQogICAgICB0aGlzLmZldGNoRGF0YSgpOw0KICAgIH0sDQoNCiAgICByZW1vdmVEYXRhQnlJZChpZCkgew0KICAgICAgLy8gZGVidWdnZXINCiAgICAgIC8vIGNvbnNvbGUubG9nKG1lbWJlcklkKQ0KICAgICAgLy8g5L2/55SoTWVzc2FnZUJveCDlvLnmoYbnu4Tku7YNCiAgICAgIHRoaXMuJGNvbmZpcm0oIuatpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeiusOW9lSwg5piv5ZCm57un57utPyIsICLmj5DnpLoiLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgIH0pDQogICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICByZXR1cm4gdGVhY2hlci5yZW1vdmVCeUlkKGlkKTsNCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuZmV0Y2hEYXRhKCk7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5oiQ5YqfISIsDQogICAgICAgICAgfSk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICAvLyDlpLHotKUNCiAgICAgICAgICBpZiAocmVzcG9uc2UgPT09ICJjYW5jZWwiKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgdHlwZTogImluZm8iLA0KICAgICAgICAgICAgICBtZXNzYWdlOiAi5bey5Y+W5raI5Yig6ZmkIiwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCg0KICAgICAgICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5aSx6LSlIiwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/edu/teacher","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <!--查询表单-->\r\n    <el-form :inline=\"true\" class=\"demo-form-inline\">\r\n      <el-form-item>\r\n        <el-input v-model=\"searchObj.name\" placeholder=\"讲师名\" />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-select v-model=\"searchObj.level\" clearable placeholder=\"讲师头衔\">\r\n          <el-option :value=\"1\" label=\"高级讲师\" />\r\n          <el-option :value=\"2\" label=\"首席讲师\" />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"添加时间\">\r\n        <el-date-picker\r\n          v-model=\"searchObj.begin\"\r\n          type=\"datetime\"\r\n          placeholder=\"选择开始时间\"\r\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n          default-time=\"00:00:00\"\r\n        />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-date-picker\r\n          v-model=\"searchObj.end\"\r\n          type=\"datetime\"\r\n          placeholder=\"选择截止时间\"\r\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n          default-time=\"00:00:00\"\r\n        />\r\n      </el-form-item>\r\n      <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"fetchData()\"\r\n        >查询</el-button\r\n      >\r\n      <el-button type=\"default\" @click=\"resetData()\">清空</el-button>\r\n    </el-form>\r\n\r\n    <!-- 表格 -->\r\n    <el-table\r\n      v-loading=\"listLoading\"\r\n      :data=\"list\"\r\n      element-loading-text=\"数据加载中\"\r\n      border\r\n      fit\r\n      highlight-current-row\r\n    >\r\n      <el-table-column label=\"序号\" width=\"70\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          {{ (page - 1) * limit + scope.$index + 1 }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"name\" label=\"名称\" width=\"80\" />\r\n      <el-table-column label=\"头衔\" width=\"80\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.level === 1 ? \"高级讲师\" : \"首席讲师\" }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"intro\" label=\"资历\" />\r\n      <el-table-column prop=\"gmtCreate\" label=\"添加时间\" width=\"160\" />\r\n      <el-table-column prop=\"sort\" label=\"排序\" width=\"60\" />\r\n      <el-table-column label=\"操作\" width=\"200\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <router-link :to=\"'/edu/teacher/edit/' + scope.row.id\">\r\n            <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-edit\"\r\n              >修改</el-button\r\n            >\r\n          </router-link>\r\n          <el-button\r\n            type=\"danger\"\r\n            size=\"mini\"\r\n            icon=\"el-icon-delete\"\r\n            @click=\"removeDataById(scope.row.id)\"\r\n            >删除</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 分页 -->\r\n    <el-pagination\r\n      :current-page=\"page\"\r\n      :page-size=\"limit\"\r\n      :total=\"total\"\r\n      style=\"padding: 30px 0; text-align: center\"\r\n      layout=\"total, prev, pager, next, jumper\"\r\n      @current-change=\"fetchData\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport teacher from \"@/api/edu/teacher\";\r\nexport default {\r\n  data() {\r\n    // 定义数据\r\n    return {\r\n      listLoading: true, // 是否显示loading信息\r\n      list: null, // 数据列表\r\n      total: 0, // 总记录数\r\n      page: 1, // 页码\r\n      limit: 10, // 每页记录数\r\n      searchObj: {\r\n        name:\"\",\r\n        level:\"\",\r\n        begin:\"\",\r\n        end:\"\",\r\n        index:1\r\n      }, // 查询条件\r\n    };\r\n  },\r\n\r\n  created() {\r\n    // 当页面加载时获取数据\r\n    this.fetchData();\r\n  },\r\n\r\n  methods: {\r\n    fetchData(page = 1) {\r\n      // 调用api层获取数据库中的数据\r\n      this.page = page;\r\n      this.listLoading = true;\r\n      this.searchObj.index=page;\r\n      teacher\r\n        .getPageList(this.page, this.limit, this.searchObj)\r\n        .then((response) => {\r\n          // console.log(response.data);\r\n          // debugger 设置断点调试\r\n          if (response.success === true) {\r\n            this.list = response.data.data;\r\n            this.total = response.data.total;\r\n          }\r\n          this.listLoading = false;\r\n        });\r\n    },\r\n\r\n    //清空方法\r\n    resetData() {\r\n      this.searchObj = {};\r\n      this.fetchData();\r\n    },\r\n\r\n    removeDataById(id) {\r\n      // debugger\r\n      // console.log(memberId)\r\n      // 使用MessageBox 弹框组件\r\n      this.$confirm(\"此操作将永久删除该记录, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          return teacher.removeById(id);\r\n        })\r\n        .then(() => {\r\n          this.fetchData();\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功!\",\r\n          });\r\n        })\r\n        .catch((response) => {\r\n          // 失败\r\n          if (response === \"cancel\") {\r\n            this.$message({\r\n              type: \"info\",\r\n              message: \"已取消删除\",\r\n            });\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n\r\n              message: \"删除失败\",\r\n            });\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}